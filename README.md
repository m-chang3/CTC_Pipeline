# OHSU-CTC_pipeline
Pipeline to run CTC libraries generated by SMARTseq2 against the hg38 genome verison

# Steps to run the pipeline:
### 1)
Copy the folder hg38_pipeline_fresh/fresh_snakemake_files into a new working directory (above hg38_pipeline_fresh)

### 2)
Symlink samples into the folder samples/raw/ within the fresh_snakemake_files directory. You can use the command "ln -s /path/to/samples/* ./samples/raw" (from the fresh_snakemake_files directory)

### 3)
Ensure that the samples are in the proper naming format. Samples must be named with the suffix "_R1.fq.gz"

### 4)
Update the omic_config.yaml file with the Seurat parameters required.

### 5)
Create a conda environment with the package snakemake installed. You can install by creating a new environment, activating it, and running the command "conda install -c bioconda snakemake=4.3.0"
You MUST use Snakemake version 4.3.0!

### 6) 
Use gunzip to unzip the .bed and .gtf files in pipeline_files

### 7) 
Download the Hisat2 tool (version 2.0.4) and create a Hisat index for hg38. Update the omic_config.yaml file accordingly.

### 8)
Do a dry run of Snakemake to ensure everything is functioning properly. Use the command "snakemake -np --verbose" from the directory containing the Snakefile.

### 9)
You're ready to run! Use the command "sbatch submit_snakemake.sh" on a slurm job scheduler to get the run started.
